.container {
  @include grid-gutters($container: true);
}

.multicolumn {
  @include baseline($no-text: true, $margin-top: $header-margin, $margin-bottom: $footer-margin);
  column-width: auto;
  column-gap: $grid-gutter;
  @media(min-width: $screen-small) {
    column-count: 2;
  }
  img {
    @include baseline($no-text: true, $margin: .75, $below: .1);
    @media(min-width: $screen-large) {
      @include baseline($no-text: true, $below: .5);
    }
    @media(max-width: $screen-small) {
      width: calc(50% + #{font-scale(1.25)});
      margin-left: $grid-gutter/2;
      margin-right: -$grid-gutter*.7;
      float: right;
    }
  }
}

.multicolumn-aside {
  display: flex;
  flex-flow: row wrap;
  .container {
    display: flex;
    flex-flow: row wrap;
  }
  .tiddler {
    @include columns(12);
  }
  .whopper {
    @include columns(12, $screens: true);
    @media(min-width: $screen-large) {
      @include columns(10);
    }
    @media(min-width: $screen-larger) {
      @include columns(9);
    }
  }
  aside {
    @media(min-width: $screen-larger) {
      @include columns(6);
    }
    @include baseline($no-text: true, $margin-top: $header-margin, $above: .35);
  }
  section {
    @include columns(12);
    @media(min-width: $screen-larger) {
      @include columns(6);
    }
  }
  footer {
    @include columns(6);
  }
}

.multicolumn-aside-re-ordered {
  .tiddler {
    @include columns(12);
    @media(min-width: $screen-larger) {
      @include columns(3);
    }
    order: 1;
  }
  .whopper {
    order: 2;
  }
  aside {
    order: 3;
    display: flex;
    @media(min-width: $screen-medium){
      flex-flow: row wrap;
      align-content: flex-start;
    }
    flex-flow: column;
    @media(min-width: $screen-larger) {
      order: 4;
      @include columns(6);
    }
    > img {
      align-self: flex-start;
      @include columns(12, $screens: true);
      @media(min-width: $screen-medium) {
        @include columns(9);
      }
      @media(min-width: $screen-large) and (max-width: $screen-larger-max) {
        @include columns(8);
      }
      @media(min-width: $screen-larger) {
        @include columns(12, $calc: false, $margin: 0);
      }
    }
    > p {
      order: 2;
      @include columns(12, $screens: true);
      @media(min-width: $screen-smaller) {
        @include columns(9, $screens: true);
      }
      @media(min-width: $screen-small) {
        @include columns(6);
      }
      @media(min-width: $screen-large) {
        @include columns(4);
      }
      @media(min-width: $screen-larger) {
        @include columns(6, $margin: 0);
      }
    }
    > p + img {
      @include baseline($no-text: true, $below: .1);
    }
  }
  section,
  footer {
    order: 4;
  }
  footer {
    @include columns(9);
  }
}
