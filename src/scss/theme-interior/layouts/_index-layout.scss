.index-layout {
  counter-reset: default-counter;

  h1 {
    grid-column: 1 / span 2;
    grid-row: 1;
    align-self: flex-end;

    @media(min-width: $screen-medium) {
      grid-row: 2;
      grid-column: 2 / span 2;
    }

    @media(min-width: $screen-large) {
      grid-row: 1;
      grid-column: 3 / span 2;
    }
  }

  h5 {
    @include heading-6(
      $margin: -1,
      $margin-large: -1,
      $below-large: 0,
      $below: -1
    );
    @media(min-width: $screen-small) {
      @include heading-6(
        $margin: -1,
        $margin-large: -1,
        $below-large: 0,
        $below: 0
      );
    }
  }

  .container {
    @media(min-width: $screen-small) {
      width: $width-small;
    }
    @media(min-width: $screen-medium) {
      width: $width-medium;
    }
    @media(min-width: $screen-large) {
      width: $width-large;
    }
    @media(min-width: $screen-larger) {
      width: $width-larger;
    }
  }

  @media(max-width: $screen-large-max) {
    #main-header .container {
      width: auto;
    }
  }

  main {
    display: grid;
    grid-template-columns: 1fr;
    grid-row-gap: $grid-row-gap-small;

    @media(min-width: $screen-large) {
      grid-row-gap: $grid-row-gap-large;
    }

    @media(min-width: $screen-small) and (max-width: $screen-medium-max) {
      grid-template-rows: auto;
    }
  }

  main section {
    display: grid;
    grid-gap: $grid-gap-small;

    @media(min-width: $screen-large) {
        grid-template-columns: repeat(4, 1fr);
        grid-gap: $grid-gap-large;
    }

    @media(min-width: $screen-larger) {
        grid-template-columns: repeat(5, 1fr);
    }
  }

  .preamble {
    grid-template-rows: repeat(3, minmax(10rem, auto));

    @media(min-width: $screen-medium) {
      grid-template-rows: repeat(4, minmax(10rem, auto));
      grid-template-columns: repeat(3, 1fr);
    }

    @media(min-width: $screen-large) {
      grid-template-rows: repeat(2, minmax($grid-row-large, auto));
      grid-template-columns: repeat(4, 1fr);
    }

    .intro {
      grid-row: 2 / span 2;
      margin-top: -1rem;

      @media(min-width: $screen-medium) {
        grid-row: 3 / span 2;
      }

      @media(min-width: $screen-medium) {
        grid-column: 2 / span 2;
      }

      @media(min-width: $screen-large) {
        grid-row: 2;
        grid-column: 3 / span 2;
      }
    }
    // @media(min-width: $screen-larger) {
    //     p:nth-of-type(1),
    //     h1 {
    //         grid-column: 4 / span 2;
    //     }
    // }
  }

  #design-principles {
    grid-template-rows: repeat(6, 10rem);
    grid-template-columns: 1fr;

    @media(min-width: $screen-small) {
      grid-template-rows: repeat(6, minmax(10rem, auto));
    }

    @media(min-width: $screen-medium) {
      grid-template-rows: repeat(2, minmax(21rem, auto));
    }

    @media(min-width: $screen-large) {
      grid-template-rows: repeat(2, minmax($grid-row-large, auto));
    }
  }

  #development-considerations {
    grid-template-rows: repeat(4, 10rem);
    grid-template-columns: 1fr;

    @media(min-width: $screen-small) {
        grid-template-rows: repeat(3, 10rem);
    }

    @media(min-width: $screen-medium) {
      grid-template-rows: 21rem;
    }

    @media(min-width: $screen-large) {
      grid-template-rows: $grid-row-large;
    }

  }

  #design-principles,
  #development-considerations {
    display: grid;
    grid-gap: $grid-gap-small;

    @media(min-width: 400px) {
      grid-template-columns: repeat(2, 1fr);
    }

    @media(min-width: 400px) and (max-width: $screen-medium-max) {
        .image-link:nth-child(2) {
          grid-column-start: 1;
        }
    }

    @media(min-width: $screen-medium) {
      grid-template-columns: repeat(3, 1fr);
    }

    @media(min-width: $screen-medium) and (max-width: $screen-medium-max) {
        .image-link:nth-child(4) {
          grid-column-start: 2;
        }
    }

    @media(min-width: $screen-large) {
      grid-column: span 4;
      grid-template-columns: repeat(4, 1fr);
      grid-gap: $grid-gap-large;
    }

    @media(min-width: $screen-larger) {
      grid-column: span 5;
      grid-template-columns: repeat(5, 1fr);
      grid-template-rows: $grid-row-large;
    }
  }

  .image-link {
    display: grid;
    grid-template-rows: auto 1fr;
    text-decoration: none;

    @media(min-width: 400px) and (max-width: $screen-medium-max) {
        grid-row: span 2;
    }

    @media(max-width: 399px) {
      grid-template-columns: repeat(2, 1fr);
      grid-column: span 2;
      grid-gap: $grid-gap-small;

      > img {
        order: 2;
        object-fit: cover;
        object-position: bottom left;
        width: 100%;
        height: 10rem;
      }
    }

    span {
      font-weight: bold;
      color: black;
      counter-increment: default-counter;
      display: grid;
      align-items: baseline;
      grid-template-columns: auto 1fr;
      padding-top: .15rem;

      @media(min-width: 400px) {
        padding-top: 1.15rem;

      }

      &::before {
        content: counter(default-counter)" ";
        border-bottom: .14rem solid $brand-color-1;
        text-align: center;
        width: .75rem;
        margin-right: .25rem;
        padding-bottom: .25rem;
      }
    }
  }

  .section-info {
    display: grid;
    align-content: flex-start;

    @media(max-width: $screen-small-max) {
      grid-template-rows: repeat(2, 1fr);
      grid-gap: $grid-gap-small;
      grid-row: span 2;
      grid-column: span 2;

      h5 {
          align-self: flex-end;
      }
    }
  }

  @media(min-width: $screen-small) and (max-width: $screen-medium-max) {
    .image-link > img {
      height: 17rem;
      object-fit: cover;
      object-position: left;
    }
  }

  @media(min-width: $screen-large) and (max-width: $screen-larger-max) {
    .image-link:nth-of-type(4) {
      grid-column: 2;
    }
  }
}
